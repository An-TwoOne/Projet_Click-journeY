<?php
// Démarrage de la session pour accéder aux données de l'utilisateur
session_start();

// Fonction de sécurisation des données pour éviter XSS
function secureData($data) {
    return htmlspecialchars($data, ENT_QUOTES, 'UTF-8');
}

// Définition des voyages disponibles
$voyages = [
    'monde_futuriste' => [
        'titre' => 'Monde Futuriste',
        'date' => '01/04/2025',
        'prix' => '1875€',
        'etapes' => 5
    ],
    'voyage_intergalactique' => [
        'titre' => 'Voyage Intergalactique',
        'date' => '15/05/2025',
        'prix' => '2360€',
        'etapes' => 7
    ],
    'aventure_medievale' => [
        'titre' => 'Aventure Médiévale',
        'date' => '10/06/2025',
        'prix' => '1240€',
        'etapes' => 4
    ]
];
?>

<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Liste des Voyages</title>
    <link rel="stylesheet" type="text/css" href="page_destination.css">
</head>
<body>
    <div class="bandeau">
        <div>
            <a href="page_accueil.html"><img src="contenu_css/logo.png" alt="logo"></a>
            <a href="page_accueil.html">Accueil</a>
            <a href="page_destination.html">Destinations</a>
            <a href="#filtres" class="btn"><img src="contenu_css/recherche_gris.png" alt="logo_recherche">Rechercher</a>
        </div>
        <div>
            <a href="page_connexion.html">connexion</a>
            <a href="page_inscription.html">inscription</a>
            <span>|</span>
            <a href="page_profil.html"><img src="contenu_css/icon_profil_gris.png" alt="Profil"></a>
        </div>
    </div>

    <div class="contenu_liste_voyages">
        <h2>Liste des Voyages</h2>
        
        <?php foreach ($voyages as $voyage_key => $voyage): ?>
            <div class="voyage">
                <h3><?php echo secureData($voyage['titre']); ?></h3>
                <p>Date: <?php echo secureData($voyage['date']); ?></p>
                <p>Prix: <?php echo secureData($voyage['prix']); ?></p>
                <p>Nombre d'étapes: <?php echo secureData($voyage['etapes']); ?></p>
                <a href="detail_voyage.php?voyage=<?php echo secureData($voyage_key); ?>">Voir les détails</a>
            </div>
        <?php endforeach; ?>
    </div>
</body>
</html>
